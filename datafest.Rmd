---
title: "A-super-NOVA Datafest"
output: html_notebook
---

```{r}
<<<<<<< HEAD
library(readr)
library(plyr)
library(stringr)
library(tidyr)
library(dplyr)
library(ggplot2)

datafestdata<-readr::read_csv("/Users/rileyboeth/Downloads/Datafest/dataFestReleaseFinal_3_23.csv")

ggplot(datafestdata, aes(applies))+
  geom_histogram(bins  = 500)

ggplot(datafestdata, aes(clicks))+
  geom_histogram(bins  = 500)


ggplot(datafestdata, aes(descriptionLengthChars))+
  geom_histogram(bins  = 500)

```


```{r}
library(rpart)
library(rpart.plot)
train<-datafestdata%>%
  filter(avgoverallcompanyrating != 0)%>%
  slice(1:891975)

test<-datafestdata%>%
  filter(avgoverallcompanyrating !=0)%>%
  slice(891976:1274249)

#linear regression predicting avgoverallcompanyrating
reg1<-lm(avgoverallcompanyrating~descriptionLengthChars+supervisingJob+noEducationRequirementsJob+highSchoolEducationRequirementsJob+higherEducationRequirementsJob+applies+clicks+employeecount+employerIndustry+admin1, data = train)
summary(reg1)

prediction<-  data.frame(prediction = predict(reg1, newdata = na.omit(test)))
test<-na.omit(test)%>%
  bind_cols(prediction)

test<-test%>%
  select(avgoverallcompanyrating,prediction)%>%
  mutate(difference = avgoverallcompanyrating - prediction)

ggplot(test, aes(difference))+
  geom_histogram(bins= 500)


#ratio of number of jobs in area to number of applicants
ratio<-datafestdata%>%
  group_by(admin1,employerIndustry)%>%
  summarise(num_jobs = n_distinct(jobHash), 
            num_applicants = sum(applies),
            num_clicks = sum(clicks, na.rm=TRUE))%>%
  ungroup()%>%
  mutate(ratio_applications_to_jobs = num_applicants/num_jobs,
         ratio_clicks_to_jobs = num_clicks/num_jobs)
```

=======
library(tidyverse)
```


```{r}
indeed_mini <- readr::read_csv("Indeed_mini.csv")
indeed_full <- readr::read_csv("dataFestReleaseFinal_3_23.csv")
```

```{r}
head(indeed_full)
```

```{r}
indeed_full_edit <- indeed_full 

indeed_full_region <- indeed_full %>%
  group_by(admin1, normtitlecategory) %>%
  summarize(n_jobs = n_distinct(jobHash), n_applicants = sum(applies)) %>%
  mutate(ratio = n_jobs/n_applicants) %>%
  arrange(desc(ratio))
head(indeed_full_region)

```

>>>>>>> 9088603656efa3f74cbbbe46c8b0ff5b3236a679
